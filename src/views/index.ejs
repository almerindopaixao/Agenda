<%- include('includes/head') %> 
<%- include('includes/nav') %> 
<div class="container">
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-8 my-3" >
            <h1 class="text-center">Agenda</h1>
            <p class="text-center lead">Seus contatos estão abaixos</p>

            <%- include('includes/messages') %> 
            <% if(contatos.length > 0) { %> 
            <div class="table-responsive">
                <table class="table table-striped my-3">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Nome</th>
                        <th scope="col">Sobrenome</th>
                        <th scope="col">Telefone</th>
                        <th scope="col">Email</th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <tbody>
                      <% for (let contato in contatos) { %>
                        <tr>
                          <th scope="row"><%= contato %></th>
                          <td><%= contatos[contato].nome %></td>
                          <td><%= contatos[contato].sobrenome %></td>
                          <td><%= contatos[contato].telefone %></td>
                          <td><%= contatos[contato].email %></td>
                          <td><a href="/contato/<%= contatos[contato]._id %>">Editar</a></td>
                          <td><a class="text-danger" href="/contato/delete/<%= contatos[contato]._id %>">Excluir</a></td>
                        </tr>
                      <% } %>  
                    </tbody>
                  </table>
            </div>
            <% } else { %>
                <p class="text-center lead">Não existem contatos na sua agenda</p>
            <% } %> 
        </div>
        <div class="col-lg-12"></div>
    </div>
</div>
<%- include('includes/footer') %> 